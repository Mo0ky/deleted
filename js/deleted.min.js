/**
 * deleted - A slightly different user experience for hard deletes.
 * @author John Otander <johnotander@gmail.com> (http://johnotander.com/)
 * @version v0.0.1beta2
 * @link https://github.com/johnotander/deleted
 * @license MIT
 */

!function(){function e(e){var d=a(e.target),c=e.target.getAttribute("href");if(t(e.target,"is-open"),d){var l=n(e.target);if(l)return l.parentNode.className=l.parentNode.className.replace("is-open",""),!0}else e.target.appendChild(r(null,c));e.target.href="#!"}function t(e,t){a(e)?e.className=e.className.replace(t,""):e.className+=" "+t}function a(e){return e.getAttribute("data-deleted")?e.className.indexOf("is-open")>-1:!0}function n(e){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains("dropdown"))return e;return!1}function r(e,t,a,n){e=e||"Are you sure you want to delete this?",a=a||"Cancel",n=n||"Confirm";var r=document.createElement("div");r.className="dropdown",r.appendChild(document.createTextNode(e));var d=document.createElement("div");d.className="actions";var c=document.createElement("span");c.className="btn--link btn--sm",c.appendChild(document.createTextNode(a));var l=document.createElement("a");return l.className="btn--red btn--sm",l.href=t,l.appendChild(document.createTextNode(n)),d.appendChild(c),d.appendChild(l),r.appendChild(d),r}var d=document.querySelectorAll("[data-deleted]");[].forEach.call(d,function(t){t.addEventListener("click",e,!1)})}();